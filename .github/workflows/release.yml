on:
  workflow_call:

env:
  # Use docker.io for Docker Hub if empty
  REGISTRY: ghcr.io
  # github.repository as <account>/<repo>
  IMAGE_NAME: ${{ github.repository }}

name: Release
jobs:
  Release:
    runs-on: ubuntu-latest
    container: 
        image: ghcr.io/${{ github.repository }}
        credentials:
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}
    permissions:
      contents: write
      pull-requests: write
      issues: write
      discussions: write
      packages: write

    steps:
        - name: Checkout repository
          uses: actions/checkout@v4
        - name: run release
          run: "semantic-release"
